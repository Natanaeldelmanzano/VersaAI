{
  "version": "2.0.0",
  "tasks": [
    // ===== TAREAS PARA FRONTEND (VUE.JS 3) =====
    {
      "label": "üöÄ Frontend: Start Dev Server",
      "type": "shell",
      "command": "npm",
      "args": ["run", "dev"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "new",
        "showReuseMessage": true,
        "clear": false,
        "group": "frontend"
      },
      "problemMatcher": [],
      "runOptions": {
        "instanceLimit": 1
      }
    },
    {
      "label": "üì¶ Frontend: Install Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["install"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "üèóÔ∏è Frontend: Build Production",
      "type": "shell",
      "command": "npm",
      "args": ["run", "build"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": ["$tsc"]
    },
    {
      "label": "üß™ Frontend: Run Tests",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "üìä Frontend: Test Coverage",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:coverage"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "üîç Frontend: Lint Code",
      "type": "shell",
      "command": "npm",
      "args": ["run", "lint"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": ["$eslint-stylish"]
    },
    {
      "label": "‚ú® Frontend: Format Code",
      "type": "shell",
      "command": "npm",
      "args": ["run", "format"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "group": "frontend"
      },
      "problemMatcher": []
    },

    // ===== TAREAS PARA BACKEND (FASTAPI/PYTHON) =====
    {
      "label": "üêç Backend: Start Dev Server",
      "type": "shell",
      "command": "python",
      "args": ["-m", "uvicorn", "src.main:app", "--reload", "--host", "0.0.0.0", "--port", "8000"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src",
          "DEBUG": "true"
        }
      },
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "new",
        "showReuseMessage": true,
        "clear": false,
        "group": "backend"
      },
      "problemMatcher": [],
      "runOptions": {
        "instanceLimit": 1
      }
    },
    {
      "label": "üì¶ Backend: Install Dependencies",
      "type": "shell",
      "command": "pip",
      "args": ["install", "-r", "requirements.txt"],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },
    {
      "label": "üß™ Backend: Run Tests",
      "type": "shell",
      "command": "python",
      "args": ["-m", "pytest", "tests/", "-v"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src"
        }
      },
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },
    {
      "label": "üìä Backend: Test Coverage",
      "type": "shell",
      "command": "python",
      "args": ["-m", "pytest", "tests/", "--cov=src", "--cov-report=html", "--cov-report=term-missing"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src"
        }
      },
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },
    {
      "label": "üîç Backend: Lint Code (Flake8)",
      "type": "shell",
      "command": "python",
      "args": ["-m", "flake8", "src/"],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },
    {
      "label": "‚ú® Backend: Format Code (Black)",
      "type": "shell",
      "command": "python",
      "args": ["-m", "black", "src/"],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },
    {
      "label": "üìã Backend: Sort Imports (isort)",
      "type": "shell",
      "command": "python",
      "args": ["-m", "isort", "src/"],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "group": "backend"
      },
      "problemMatcher": []
    },

    // ===== TAREAS PARA BASE DE DATOS =====
    {
      "label": "üóÑÔ∏è Database: Run Migrations",
      "type": "shell",
      "command": "python",
      "args": ["-m", "alembic", "upgrade", "head"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "database"
      },
      "problemMatcher": []
    },
    {
      "label": "üìù Database: Create Migration",
      "type": "shell",
      "command": "python",
      "args": ["-m", "alembic", "revision", "--autogenerate", "-m", "${input:migrationMessage}"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "database"
      },
      "problemMatcher": []
    },
    {
      "label": "üîÑ Database: Reset and Seed",
      "type": "shell",
      "command": "python",
      "args": ["scripts/reset_database.py"],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "PYTHONPATH": "${workspaceFolder}/backend/src"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "database"
      },
      "problemMatcher": []
    },

    // ===== TAREAS PARA DOCKER =====
    {
      "label": "üê≥ Docker: Start All Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["up", "--build", "-d"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "docker"
      },
      "problemMatcher": []
    },
    {
      "label": "üîß Docker: Start Services Only (DB + Redis)",
      "type": "shell",
      "command": "docker-compose",
      "args": ["up", "db", "redis", "-d"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "docker"
      },
      "problemMatcher": []
    },
    {
      "label": "üõë Docker: Stop All Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["down"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "docker"
      },
      "problemMatcher": []
    },
    {
      "label": "üßπ Docker: Clean Up",
      "type": "shell",
      "command": "docker-compose",
      "args": ["down", "--volumes", "--remove-orphans"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "docker"
      },
      "problemMatcher": []
    },
    {
      "label": "üìä Docker: Show Logs",
      "type": "shell",
      "command": "docker-compose",
      "args": ["logs", "-f"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "new",
        "group": "docker"
      },
      "problemMatcher": []
    },

    // ===== TAREAS COMPUESTAS =====
    {
      "label": "üöÄ Full Stack: Start Development",
      "dependsOrder": "sequence",
      "dependsOn": [
        "üîß Docker: Start Services Only (DB + Redis)",
        "üêç Backend: Start Dev Server",
        "üöÄ Frontend: Start Dev Server"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "fullstack"
      }
    },
    {
      "label": "üß™ Full Stack: Run All Tests",
      "dependsOrder": "parallel",
      "dependsOn": [
        "üß™ Backend: Run Tests",
        "üß™ Frontend: Run Tests"
      ],
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "testing"
      }
    },
    {
      "label": "‚ú® Full Stack: Format All Code",
      "dependsOrder": "parallel",
      "dependsOn": [
        "‚ú® Backend: Format Code (Black)",
        "üìã Backend: Sort Imports (isort)",
        "‚ú® Frontend: Format Code"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared",
        "group": "formatting"
      }
    },
    {
      "label": "üîç Full Stack: Lint All Code",
      "dependsOrder": "parallel",
      "dependsOn": [
        "üîç Backend: Lint Code (Flake8)",
        "üîç Frontend: Lint Code"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "linting"
      }
    },
    {
      "label": "üèóÔ∏è Full Stack: Build Production",
      "dependsOrder": "sequence",
      "dependsOn": [
        "‚ú® Full Stack: Format All Code",
        "üîç Full Stack: Lint All Code",
        "üß™ Full Stack: Run All Tests",
        "üèóÔ∏è Frontend: Build Production"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "production"
      }
    },

    // ===== TAREAS UTILITARIAS =====
    {
      "label": "üõ†Ô∏è Setup: Initialize Project",
      "type": "shell",
      "command": "python",
      "args": ["scripts/setup_project.py"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "setup"
      },
      "problemMatcher": []
    },
    {
      "label": "üßπ Cleanup: Development Environment",
      "type": "shell",
      "command": "python",
      "args": ["scripts/cleanup_dev.py"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "cleanup"
      },
      "problemMatcher": []
    },
    {
      "label": "üìä Analysis: Generate Project Report",
      "type": "shell",
      "command": "python",
      "args": ["scripts/generate_report.py"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "analysis"
      },
      "problemMatcher": []
    },
    {
      "label": "üîê Security: Scan Dependencies",
      "type": "shell",
      "command": "python",
      "args": ["-m", "safety", "check"],
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "group": "security"
      },
      "problemMatcher": []
    }
  ],
  
  // ===== INPUTS PARA TAREAS DIN√ÅMICAS =====
  "inputs": [
    {
      "id": "migrationMessage",
      "description": "Mensaje para la migraci√≥n de base de datos",
      "default": "Add new feature",
      "type": "promptString"
    },
    {
      "id": "testFile",
      "description": "Archivo de test espec√≠fico a ejecutar",
      "default": "tests/",
      "type": "promptString"
    },
    {
      "id": "dockerService",
      "description": "Servicio Docker espec√≠fico",
      "default": "backend",
      "type": "pickString",
      "options": [
        "backend",
        "frontend",
        "db",
        "redis",
        "nginx"
      ]
    }
  ]
}